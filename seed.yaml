plugin:
  path: "./path/to/plugin"
  name: null # Optional override

# Marketplace mode - evaluate all plugins in marketplace
marketplace:
  path: null # Path to marketplace directory (alternative to plugin.path)
  evaluate_all: false # Evaluate all plugins in marketplace

scope:
  skills: true
  agents: true
  commands: true # In Phase 1
  hooks: false # Phase 2
  mcp_servers: false # Phase 3

generation:
  model: "claude-sonnet-4-5-20250929"
  scenarios_per_component: 5
  diversity: 0.7 # Base:variation ratio (0-1)
  max_tokens: 8000
  reasoning_effort: "medium" # none | low | medium | high
  semantic_variations: true # Generate semantic synonym variations for skills

execution:
  model: "claude-sonnet-4-20250514"
  max_turns: 5
  timeout_ms: 60000
  max_budget_usd: 10.0 # Stop if cost exceeds
  session_isolation: true # Prevent cross-contamination
  permission_bypass: true # Automate without prompts
  allowed_tools: null # null = all tools, or list for restrictions
  disallowed_tools: # Block file modifications during eval (optional)
    - Write
    - Edit
    - Bash
  num_reps: 1 # Repetitions per scenario for statistical significance
  additional_plugins: [] # Load alongside target plugin for cross-plugin conflict testing

evaluation:
  model: "claude-sonnet-4-5-20250929"
  max_tokens: 4000
  detection_mode: "programmatic_first" # programmatic_first | llm_only
  reasoning_effort: "low"
  num_samples: 1 # Multi-sample judgment for robustness
  aggregate_method: "average" # average | median | consensus
  include_citations: true # Link highlights to message IDs

output:
  format: "json" # json | yaml | junit-xml | tap
  include_cli_summary: true
  junit_test_suite_name: "cc-plugin-eval" # Suite name for JUnit XML output

resume: # Resume from previous run
  run_id: null # Previous run to resume from
  from_stage: null # Stage to resume: analysis|generation|execution|evaluation

# Fast/regression mode
fast_mode:
  enabled: false # Only run previously failed scenarios
  failed_run_id: null # Run ID to get failed scenarios from

# Dry-run mode: Generate scenarios without execution
dry_run: false # When true, stops after Stage 2 (generation)
estimate_costs: true # Show cost estimate before execution

# Batch processing for large evaluations
batch_threshold: 50 # Use Batches API when >= this many scenarios
force_synchronous: false # Force individual API calls (no batching)
poll_interval_ms: 30000 # Batch status polling interval

# File checkpointing for write operation tests
rewind_file_changes: false # Undo file changes after each scenario

# MCP server testing options
mcp_servers:
  skip_auth_required: true # Skip servers needing OAuth (can't automate)
  connection_timeout_ms: 10000 # Timeout for server connection

# Cross-plugin conflict detection
conflict_detection:
  enabled: true
  cross_plugin: false # Detect conflicts with additional_plugins

debug: false
verbose: false # Detailed progress output per scenario
max_concurrent: 10
